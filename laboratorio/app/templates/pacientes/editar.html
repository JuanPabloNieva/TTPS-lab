{% extends 'basePacientes.html' %}

{% block title %} <h1 class="m-3 text-center">Editar paciente</h1> {% endblock %}


{% block content %}
<a href="{% url 'Ver_Perfil' id=paciente.id%}" class="mb-5">Volver</a>
<form action="{ url 'Editar_Paciente' id=paciente.id}" class="mt-5" method="post"> {% csrf_token %}
    <input type="hidden" name="id" value="{{paciente.id}}">
    <div class="row">
        <div class="col-sm">
            <div class="form-group">
                <label for="nombrePaciente">Nombre</label>
                <input type="text" class="form-control" id="nombrePaciente" name="nombre"
                    aria-describedby="nombreHelp" placeholder="Nombre" value="{{paciente.nombre}}" required>
            </div>
        </div>
        <div class="col-sm">
            <div class="form-group">
                <label for="apellidoPaciente">Apellido</label>
                <input type="text" class="form-control" id="apellidoPaciente" name="apellido"
                    aria-describedby="apellidoHelp" placeholder="Apellido" value="{{paciente.apellido}}" required>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm">
            <label for="dniPaciente">DNI</label>
            <input type="number" class="form-control" id="dniPaciente" name="dni"
                aria-describedby="dniHelp" placeholder="11222333" value="{{paciente.dni}}" required>
            <small id="dniHelp" class="form-text text-muted">Ingrese su DNI sin puntos</small>
        </div>
        <div class="col-sm">
            <div class="form-group">
                <label for="obraSocialPaciente">Obra Social</label>
                <select class="form-control" id="obraSocialPaciente" name="obraSocial">
                    <option value="0" selected>--Seleccionar Obra Social--</option>
                    {% for obra in obras %}
                        {% if obra.id == paciente.obraSocial.id %}
                        <option value="{{obra.id}}" selected>{{obra.nombre}}</option>
                        {% else %}
                        <option value="{{obra.id}}">{{obra.nombre}}</option>
                        {% endif %}
                    {% endfor %}
                </select>
              </div>
        </div>
        
    </div>
    {% if paciente.nombreTutor %}
    <div class="row">
        <div class="col-sm">
            <label for="telefonoPaciente">Nombre Tutor</label>
            <input type="text" class="form-control" id="nombreTutor" name="nombreTutor"
                aria-describedby="nombreTutorHelp" placeholder="Ingrese un nombre" value="{{paciente.nombreTutor}}" required>
        </div>
        <div class="col-sm">
            <label for="direccionPaciente">Apellido Tutor</label>
            <input type="text" class="form-control" id="apellidoTutor" name="apellidoTutor"
                aria-describedby="apellidoTutorHelp" placeholder="Ingrese un apellido" value="{{paciente.apellidoTutor}}" required>
        </div>
    </div>
    <div class="row">
        <div class="col-sm">
            <label for="telefonoPaciente">Telefono Tutor</label>
            <input type="number" class="form-control" id="telefonoPaciente" name="telefono"
                aria-describedby="telefonoHelp" placeholder="2235566677" value="{{paciente.telefono}}" required>
            <small id="telefonoHelp" class="form-text text-muted">Ingrese su telefono sin "-"</small>
        </div>
        <div class="col-sm">
            <label for="direccionPaciente">Dirección Tutor</label>
            <input type="text" class="form-control" id="direccionPaciente" name="direccion"
                aria-describedby="direccionHelp" placeholder="Calle x 124" value="{{paciente.direccion}}" required>
        </div>
    </div>
    <div class="row">
        <div class="col-sm mb-2">
            <label for="emailTutor">Email Tutor</label>
            <input type="text" class="form-control" id="emailTutor" name="email"
                aria-describedby="emailTutorHelp" placeholder="ejemplo@ejemplo.com" value="{{paciente.email}}" required>
        </div>
        <div class="col-sm">
        </div>
    </div>
    {% else %}
    <div class="row">
        <div class="col-sm">
            <label for="telefonoPaciente">Telefono</label>
            <input type="number" class="form-control" id="telefonoPaciente" name="telefono"
                aria-describedby="telefonoHelp" placeholder="2235566677" value="{{paciente.telefono}}" required>
            <small id="telefonoHelp" class="form-text text-muted">Ingrese su telefono sin "-"</small>
        </div>
        <div class="col-sm">
            <label for="direccionPaciente">Dirección</label>
            <input type="text" class="form-control" id="direccionPaciente" name="direccion"
                aria-describedby="direccionHelp" placeholder="Calle x 412" value="{{paciente.direccion}}" required>
        </div>
    </div>
    <div class="row">
        <div class="col-sm mb-2">
            <label for="emailPaciente">Email</label>
            <input type="text" class="form-control" id="emailPaciente" name="email"
                aria-describedby="emailHelp" placeholder="ejemplo@ejemplo.com" value="{{paciente.email}}" required>
        </div>
        <div class="col-sm">
        </div>
    </div>
    {% endif %}
    <button type="submit" class="btn btn-primary">Guardar cambios</button>
</form>
{% endblock %}